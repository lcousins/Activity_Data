Data cleaning process:

The cleaning process is long and tedious, but if you are interested, follow these steps.  On the data website, you will see there are many files to choose between.  The Topical Data is simply a spreadsheet with a code and a description for each field.  The code is what is used in the file with the numbers, but a longer description is needed to full understand. Download this for you reference. You can download the SAS version.  Keep in mind that you will have to follow this process for all years you would like to include in your analysis. Then you will need to convert the Sas7bdat file to a csv file so that SaTScan can read it. To do that you can use the sas_to_csv file in the GitHub.  Once you have the file in CSV format, you can start the cleaning process by opening it in Microsoft Excel.  You may notice that there are many columns in the csv.   To simplify, we should create a new csv file with only the columns that we want. The first one is the state FIPS code, represented by FIPSST.  This will become the unique identifier that SaTScan will use for each state. Simply copy and paste it into the new Excel file.  The next step is more complicated. There are many fields that represent a potentially overweight child, but we will use the file BMI4_19, which is the childâ€™s BMI status in 4 categories (underweight, normal weight, overweight, obese).  Use the COUNTIFS() function in Excel to find the total count for each state of children who either have a BMI rating of 3 or 4.  This is tricky, so do your best.  Once you have a single column for the total count of overweight or obese children, you may move on. Next, we will deal with insufficient sleep data.  This column is represented by slightly different codes for each dataset, but it is similar to HRS_Sleep or HOURSLEEP. You can double check the topical data sheet if you are unsure.  We are looking to create a single column with the count of children who are getting less than 7 hours of sleep per night, You can also use the COUNTIFS() function for this. The last tricky step is to get the total count of survey answers to represent the population.  To do this, you can use the COUNTA() function or the COUNTIFS() function to count all the rows that are not null (someone provided an answer).  Again, this is for each state.  Then, you will get the latitude and longitude coordinates for the state centroids.  This can be found on many websites, including here.  You have to join this table with a FIPS table.  Once all of these tables are joined, you should have a single file with the state FIPS code, a column for the total overweight or obese children, a column for the total children getting insufficient sleep, a column with the total survey answers (population), the latitude and longitude of the centroid for each state/FIPS code.  Good work! 

SaTScan has a simple interface, but it still provides advanced options for hotspot and coldspot detection.  This tutorial uses SaTScan version 9.4, but any version should suffice.   When you first open the software and choose to start a new session, you will see a window with multiple input bars: case file, control file, study period, population file, coordinates file, and grid file. Before you begin filling these fields, it is important to understand that they all require a common field to uniquely identify points in order to associate each case to a location.  The case file is the file with the number of cases for each location ID.  Please note that many of the options available on SaTScan will not be used in this tutorial, so it is highly advised to read through the user guide. Note, it is very useful to create a directory/folder on your computer for the data and outputs as there are many files generated throughout the exercise. 


